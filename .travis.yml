language: rust
rust:
  - nightly

before_script: |
  rustup install nightly-2019-03-05
  rustup default nightly-2019-03-05
  rustup component add rustfmt clippy
script: |
  cargo fmt --all -- --check &&
  cargo clippy --all -- -D clippy::all &&
  cargo build --no-default-features --verbose &&
  cargo build --all --verbose &&
  cargo test  --all --verbose
cache: cargo
